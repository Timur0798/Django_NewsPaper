py manage.py shell_plus

user1=User.objects.create_user('Роман')
user2=User.objects.create_user('Евгений')

author1=Author.objects.create(authorUser=user1)
author2=Author.objects.create(authorUser=user2)

Category.objects.create(name='IT')
Category.objects.create(name='Economy')
Category.objects.create(name='Health')
Category.objects.create(name='History')

Post.objects.create(author=author1,categoryType='AR',title='sometitle',text='someBigTextOfArticle')
Post.objects.create(author=author1,categoryType='AR',title='sometitleOfArticle',text='someBigTextOfArticle2')
Post.objects.create(author=author2,categoryType='NW',title='sometitleOfNews',text='someBigTextOfNews')

article1=Post.objects.get(id=1)
category1=Category.objects.get(name='IT')
category2=Category.objects.get(name='History')
article1.newsCategory.add(category1,category2)
article2=Post.objects.get(id=2)
article2.newsCategory.add(Category.objects.get(name='Health'))
news=Post.objects.get(id=3)
news.newsCategory.add(Category.objects.get(name='Economy'))

comment1=Comment.objects.create(commentPost=article1,commentUser=user1,text='someTextOfComment1')
comment2=Comment.objects.create(commentPost=article2,commentUser=user2,text='someTextOfComment2')
comment3=Comment.objects.create(commentPost=news,commentUser=user1,text='someTextOfComment3')
comment4=Comment.objects.create(commentPost=news,commentUser=user2,text='someTextOfComment4')

comment1.like()
comment1.like()
comment2.like()
comment2.dislike()
comment3.like()
comment3.like()
comment3.like()
comment3.like()
comment3.dislike()
comment4.like()
comment4.like()
article1.like()
article1.like()
article2.like()
article2.like()
article2.dislike()
news.like()
news.like()
news.like()
news.like()
news.dislike()

author1.update_rating()
author2.update_rating()

a1=Author.objects.order_by('-authorRating')[:1]
a1.values('authorUser__username','authorRating')

p1=Post.objects.order_by('-newsRating')[:1]
p1.values('creationTime','author__authorUser__username','newsRating','title')
p1[0].preview()

com=Comment.objects.filter(commentPost=p1)
com.values('commentCreation','commentUser__username','rating','text')